import{_ as j,f as C,S as c,c as i,d as e,F as w,h as P,n as v,i as u,v as a,j as m,o as s,t as p}from"./index-C2iVQqbe.js";const f={props:["type"],name:"ProjectList",data(){return{projectList:C(),expandedIndex:null,showCreateModal:!1,newProject:{name:"",url:"",view:{width:1136,height:640}}}},methods:{onBtnCreateProject(o){o.stopPropagation(),this.showCreateModal=!0},toggleDetails(o){this.expandedIndex=this.expandedIndex===o?null:o},deleteProject(o){this.projectList.splice(o,1),c(this.projectList),window.Application.ribbonUI.Invalidate()},createProject(){this.projectList.push({...this.newProject}),c(this.projectList),window.Application.ribbonUI.Invalidate(),this.showCreateModal=!1,this.newProject={name:"",url:"",view:{width:1136,height:640}},this.newProject.name=this.newProject.url=""},handleClickOutside(o){this.showCreateModal&&this.$refs.modal&&!this.$refs.modal.contains(o.target)&&(this.showCreateModal=!1)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},k=["onClick"],b={class:"project-name"},g={key:0},L=["onClick"],y={key:0,class:"modal",ref:"modal"},I={colspan:"2"};function M(o,t,x,U,n,r){return s(),i(w,null,[e("div",{class:v(["main",{"blur-background":n.showCreateModal}])},[e("button",{type:"pCreate",onClick:t[0]||(t[0]=(...l)=>r.onBtnCreateProject&&r.onBtnCreateProject(...l))},"创建新项目配置"),e("ul",null,[(s(!0),i(w,null,P(n.projectList,(l,d)=>(s(),i("li",{key:d},[e("div",{onClick:h=>r.toggleDetails(d)},[e("span",b,p(l.name),1)],8,k),n.expandedIndex===d?(s(),i("div",g,[e("p",null,"路径: "+p(l.url),1),e("p",null,"宽: "+p(l.view.width),1),e("p",null,"高: "+p(l.view.height),1),e("button",{class:"btnDel",onClick:h=>r.deleteProject(d)},"删除",8,L)])):m("",!0)]))),128))])],2),n.showCreateModal?(s(),i("div",y,[t[11]||(t[11]=e("h2",null,"创建新的项目配置",-1)),e("table",null,[e("tbody",null,[e("tr",null,[t[7]||(t[7]=e("td",null,"项目名:",-1)),e("td",null,[u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>n.newProject.name=l),required:""},null,512),[[a,n.newProject.name]])])]),e("tr",null,[t[8]||(t[8]=e("td",null,"项目路径:",-1)),e("td",null,[u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>n.newProject.url=l),required:""},null,512),[[a,n.newProject.url]])])]),e("tr",null,[t[9]||(t[9]=e("td",null,"宽:",-1)),e("td",null,[u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>n.newProject.view.width=l),type:"number",required:""},null,512),[[a,n.newProject.view.width]])])]),e("tr",null,[t[10]||(t[10]=e("td",null,"高:",-1)),e("td",null,[u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>n.newProject.view.height=l),type:"number",required:""},null,512),[[a,n.newProject.view.height]])])]),e("tr",null,[e("td",I,[e("button",{type:"submit",onClick:t[5]||(t[5]=(...l)=>r.createProject&&r.createProject(...l))},"创建"),e("button",{type:"cancle",onClick:t[6]||(t[6]=l=>n.showCreateModal=!1)},"取消")])])])])],512)):m("",!0)],64)}const V=j(f,[["render",M],["__scopeId","data-v-cfc3ad65"]]);export{V as default};
